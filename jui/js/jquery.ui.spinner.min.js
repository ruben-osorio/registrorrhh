/** 
 * @license jQuery UI Spinner 1.20
 *
 * Copyright (c) 2009-2010 Brant Burnett
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Modified for use in MWS Admin while waiting for the final version of jquery-ui 1.9's Spinner
 * This file is part of MWS Admin, an Admin template build for sale at ThemeForest.
 *
 * Changes:
 * 1. Removed the native mousewheel support to use Brandon Aaron's mousewheel plugin
 * 2. Removed inline css for the input
 * 3. Put the input inside the wrapper
 *
 */

;(function(f,g){var h="ui-state-active",r="ui-state-hover",d="ui-state-disabled",j=f.ui.keyCode,l=j.UP,m=j.DOWN,q=j.RIGHT,e=j.LEFT,i=j.PAGE_UP,o=j.PAGE_DOWN,p=j.HOME,c=j.END,k=f.browser.msie,n=".uispinner",a=[l,m,q,e,i,o,p,c,j.BACKSPACE,j.DELETE,j.TAB],b;f.widget("ui.spinner",{options:{min:null,max:null,allowNull:false,group:"",point:".",prefix:"",suffix:"",places:null,defaultStep:1,largeStep:10,mouseWheel:true,increment:"slow",className:null,showOn:"always",width:16,upIconClass:"ui-icon-triangle-1-n",downIconClass:"ui-icon-triangle-1-s",format:function(v,u){var t=this,w=/(\d+)(\d{3})/,s=((isNaN(v)?0:Math.abs(v)).toFixed(u))+"";for(s=s.replace(".",t.point);w.test(s)&&t.group;s=s.replace(w,"$1"+t.group+"$2")){}return(v<0?"-":"")+t.prefix+s+t.suffix},parse:function(t){var s=this;if(s.group=="."){t=t.replace(".","")}if(s.point!="."){t=t.replace(s.point,".")}return parseFloat(t.replace(/[^0-9\-\.]/g,""))}},_create:function(){var t=this,s=t.element,u=s.attr("type");if(!s.is("input")||((u!="text")&&(u!="number"))){console.error("Invalid target for ui.spinner");return}t._procOptions(true);t._createButtons(s);if(!s.is(":enabled")){t.disable()}},_createButtons:function(D){function C(V){return V=="auto"?0:parseInt(V)}var G=this,w=G.options,u=w.className,M=w.width,x=w.showOn,B=f.support.boxModel,H=D.outerHeight(),Q=G.oMargin=C(D.css("margin-right")),z=G.wrapper=D.wrap('<span class="ui-spinner ui-widget"></span>').parent(),K=G.btnContainer=f('<span class="ui-spinner-buttons"><span class="ui-spinner-up ui-spinner-button ui-state-default ui-corner-tr"><span class="ui-icon '+w.upIconClass+'">&nbsp;</span></span><span class="ui-spinner-down ui-spinner-button ui-state-default ui-corner-br"><span class="ui-icon '+w.downIconClass+'">&nbsp;</span></span></span>'),v,t,P,U,E,A,F,O,I,N,y=D[0].dir=="rtl";if(u){z.addClass(u)}z.append(K);P=G.buttons=K.find(".ui-spinner-button");v=P[0];t=P[1];U=P.find(".ui-icon");if(x!="always"){K.css("opacity",0)}if(x=="hover"||x=="both"){P.add(D).bind("mouseenter"+n,function(){S(function(){F=true;if(!G.focused||(x=="hover")){G.showButtons()}})}).bind("mouseleave"+n,function J(){S(function(){F=false;if(!G.focused||(x=="hover")){G.hideButtons()}})})}P.hover(function(){G.buttons.removeClass(r);if(!w.disabled){f(this).addClass(r)}},function(){f(this).removeClass(r)}).mousedown(T).mouseup(R).mouseout(R);if(k){P.dblclick(function(){if(!w.disabled){G._change();G._doSpin((this===v?1:-1)*w.step)}return false}).bind("selectstart",function(){return false})}D.bind("keydown"+n,function(Z){var W,X,V,Y=Z.keyCode;if(Z.ctrl||Z.alt){return true}if(s(Y)){I=true}if(O){return false}switch(Y){case l:case i:W=1;X=Y==i;break;case m:case o:W=-1;X=Y==o;break;case q:case e:W=(Y==q)^y?1:-1;break;case p:V=G.options.min;if(V!=null){G._setValue(V)}return false;case c:V=G.options.max;V=G.options.max;if(V!=null){G._setValue(V)}return false}if(W){if(!O&&!w.disabled){keyDir=W;f(W>0?v:t).addClass(h);O=true;G._startSpin(W,X)}return false}}).bind("keyup"+n,function(V){if(V.ctrl||V.alt){return true}if(s(j)){I=false}switch(V.keyCode){case l:case q:case i:case m:case e:case o:P.removeClass(h);G._stopSpin();O=false;return false}}).bind("keypress"+n,function(V){if(L(V.keyCode,V.charCode)){return false}}).bind("change"+n,function(){G._change()}).bind("focus"+n,function(){function V(){G.element.select()}k?V():setTimeout(V,0);G.focused=true;b=G;if(!F&&(x=="focus"||x=="both")){G.showButtons()}}).bind("blur"+n,function(){G.focused=false;if(!F&&(x=="focus"||x=="both")){G.hideButtons()}});function s(W){for(var V=0;V<a.length;V++){if(a[V]==W){return true}}return false}function L(Y,V){if(I){return false}var X=String.fromCharCode(V||Y),W=G.options;if((X>="0")&&(X<="9")||(X=="-")){return false}if(((G.places>0)&&(X==W.point))||(X==W.group)){return false}return true}function S(W){if(E){if(W===A){return}clearTimeout(E)}A=W;E=setTimeout(V,100);function V(){E=0;W()}}function T(){if(!w.disabled){var V=G.element[0],W=(this===v?1:-1);V.focus();V.select();f(this).addClass(h);N=true;G._startSpin(W)}return false}function R(){if(N){f(this).removeClass(h);G._stopSpin();N=false}return false}},_procOptions:function(z){var A=this,x=A.element,B=A.options,v=B.min,w=B.max,u=B.step,s=B.places,t=-1,y;if(B.increment=="slow"){B.increment=[{count:1,mult:1,delay:250},{count:3,mult:1,delay:100},{count:0,mult:1,delay:50}]}else{if(B.increment=="fast"){B.increment=[{count:1,mult:1,delay:250},{count:19,mult:1,delay:100},{count:80,mult:1,delay:20},{count:100,mult:10,delay:20},{count:0,mult:100,delay:20}]}}if((v==null)&&((y=x.attr("min"))!=null)){v=parseFloat(y)}if((w==null)&&((y=x.attr("max"))!=null)){w=parseFloat(y)}if(!u&&((y=x.attr("step"))!=null)){if(y!="any"){u=parseFloat(y);B.largeStep*=u}}B.step=u=u||B.defaultStep;if((s==null)&&((y=u+"").indexOf(".")!=-1)){s=y.length-y.indexOf(".")-1}A.places=s;if((w!=null)&&(v!=null)){if(v>w){v=w}t=Math.max(Math.max(t,B.format(w,s,x).length),B.format(v,s,x).length)}if(z){A.inputMaxLength=x[0].maxLength}y=A.inputMaxLength;if(y>0){t=t>0?Math.min(y,t):y;y=Math.pow(10,t)-1;if((w==null)||(w>y)){w=y}y=-(y+1)/10+1;if((v==null)||(v<y)){v=y}}if(t>0){x.attr("maxlength",t)}B.min=v;B.max=w;A._change();if(B.mouseWheel&&f.fn.mousewheel){x.mousewheel(A._mouseWheel)}},_mouseWheel:function(t,u){var s=f.data(this,"spinner");if(!s.options.disabled&&s.focused&&(b===s)){s._change();s._doSpin(u*s.options.step);return false}},_setTimer:function(u,t,w){var s=this;s._stopSpin();s.timer=setInterval(v,u);function v(){s._spin(t,w)}},_stopSpin:function(){if(this.timer){clearInterval(this.timer);this.timer=0}},_startSpin:function(v,w){var t=this,u=t.options,s=u.increment;t._change();t._doSpin(v*(w?t.options.largeStep:t.options.step));if(s&&s.length>0){t.counter=0;t.incCounter=0;t._setTimer(s[0].delay,v,w)}},_spin:function(u,v){var t=this,s=t.options.increment,w=s[t.incCounter];t._doSpin(u*w.mult*(v?t.options.largeStep:t.options.step));t.counter++;if((t.counter>w.count)&&(t.incCounter<s.length-1)){t.counter=0;w=s[++t.incCounter];t._setTimer(w.delay,u,v)}},_doSpin:function(t){var s=this,u=s.curvalue;if(u==null){u=(t>0?s.options.min:s.options.max)||0}s._setValue(u+t)},_parseValue:function(){var s=this.element.val();return s?this.options.parse(s,this.element):null},_validate:function(v){var t=this.options,u=t.min,s=t.max;if((v==null)&&!t.allowNull){v=this.curvalue!=null?this.curvalue:u||s||0}if((s!=null)&&(v>s)){return s}else{if((u!=null)&&(v<u)){return u}else{return v}}},_change:function(){var t=this,v=t._parseValue(),u=t.options.min,s=t.options.max;if(!t.selfChange){if(isNaN(v)){v=t.curvalue}t._setValue(v,true)}},_setOption:function(s,t){f.Widget.prototype._setOption.call(this,s,t);this._procOptions()},increment:function(){this._doSpin(this.options.step)},decrement:function(){this._doSpin(-this.options.step)},showButtons:function(t){var s=this.btnContainer.stop();if(t){s.css("opacity",1)}else{s.fadeTo("fast",1)}},hideButtons:function(t){var s=this.btnContainer.stop();if(t){s.css("opacity",0)}else{s.fadeTo("fast",0)}this.buttons.removeClass(r)},_setValue:function(u,s){var t=this;t.curvalue=u=t._validate(u);t.element.val(u!=null?t.options.format(u,t.places,t.element):"");if(!s){t.selfChange=true;t.element.change();t.selfChange=false}},value:function(s){if(arguments.length){this._setValue(s);return this.element}return this.curvalue},enable:function(){this.buttons.removeClass(d);this.element[0].disabled=false;f.Widget.prototype.enable.call(this)},disable:function(){this.buttons.addClass(d).removeClass(r);this.element[0].disabled=true;f.Widget.prototype.disable.call(this)},destroy:function(s){this.wrapper.remove();this.element.unbind(n).css({width:this.oWidth,marginRight:this.oMargin});if(f.fn.mousewheel){this.element.unmousewheel()}f.Widget.prototype.destroy.call(this)}})})(jQuery);